{"version":3,"sources":["webpack:///webpack/bootstrap e3ce28f95a569e1eaa86","webpack:///./examples/index.tsx","webpack:///external \"React\"","webpack:///external \"ReactDOM\"","webpack:///./examples/app.tsx","webpack:///./src/overlayContainer.tsx","webpack:///./src/overlay.tsx","webpack:///./src/elementPosition.ts","webpack:///./src/positioning.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e3ce28f95a569e1eaa86","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport { App } from './app';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./examples/index.tsx","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 2\n// module chunks = 0","import * as React from \"react\";\r\nimport { OverlayContainer } from \"../src/overlayContainer\";\r\nimport { Overlay } from \"../src/overlay\";\r\nimport { Alignment, AlignType } from \"../src/positioning\";\r\n\r\n\r\nexport interface AppState {\r\n    visible: boolean;\r\n    alignment?: Alignment;\r\n}\r\n\r\nexport class App extends React.Component<void, AppState> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            visible: false,\r\n            alignment: {\r\n                target: {\r\n                    horizontal: AlignType.Left,\r\n                    vertical: AlignType.Bottom\r\n                },\r\n                overlay: {\r\n                    horizontal: AlignType.Left,\r\n                    vertical: AlignType.Top\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <OverlayContainer>\r\n                <div style={({width: \"100px\"})} onClick={() => this.setState({visible: true})}>\r\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. At ea expedita modi quis, ullam voluptatem?\r\n                    Ab alias aperiam dolor doloribus, explicabo fugit, ipsa ipsum laboriosam laudantium, minima optio quod sint?\r\n                </div>\r\n                <Overlay visible={this.state.visible}\r\n                         onClickOutside={(clickedOnContainer) => this.setState({visible: clickedOnContainer})}\r\n                         alignment={this.state.alignment}>\r\n                    {\r\n                        (left, top) =>\r\n                            <div style={({position: 'absolute', top: top, left: left})}>\r\n                                Lorem ipsum dolor sit.\r\n                            </div>\r\n                    }\r\n                </Overlay>\r\n            </OverlayContainer>\r\n        )\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./examples/app.tsx","import * as React from \"react\";\r\n\r\nexport class OverlayContainer extends React.Component<React.HTMLProps<HTMLDivElement>, void> {\r\n\r\n    static childContextTypes = {\r\n        target: React.PropTypes.any\r\n    };\r\n\r\n    public getChildContext() {\r\n        return {\r\n            target: this.refs[\"target\"]\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div ref=\"target\" {...this.props}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/overlayContainer.tsx","import * as React from \"react\";\r\nimport * as ReactDom from \"react-dom\";\r\nimport { alignContainer } from \"./elementPosition\";\r\nimport { Alignment } from \"./positioning\";\r\n\r\nexport interface OverlayProps {\r\n    onClickOutside?: (clickedOnContainer: boolean) => void;\r\n    alignment?: Alignment;\r\n    visible: boolean;\r\n}\r\n\r\nexport interface OverlayState {\r\n    top: number;\r\n    left: number;\r\n}\r\n\r\nexport interface OverlayContext {\r\n    target: any;\r\n}\r\n\r\nexport class Overlay extends React.Component<OverlayProps, OverlayState> {\r\n    public wrapper: HTMLElement | null;\r\n    public host: HTMLElement | null;\r\n    public target: HTMLElement | null;\r\n    public context: OverlayContext;\r\n\r\n    static contextTypes = {\r\n        target: React.PropTypes.any\r\n    };\r\n\r\n    constructor(props: OverlayProps) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n    }\r\n\r\n    public componentDidMount(): void {\r\n        this.renderPopup();\r\n    }\r\n\r\n    public componentDidUpdate(): void {\r\n        this.renderPopup();\r\n    }\r\n\r\n    public componentWillUnmount(): void {\r\n        this.removePopup();\r\n    }\r\n\r\n    public render(): null {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Rerender popup to get new top and left\r\n     */\r\n    private resizeHandler = () => this.renderPopup();\r\n\r\n    /**\r\n     * Close popup on click outside of popup and container\r\n     */\r\n    private closeOnClickHandler = (e: MouseEvent) => {\r\n        if (e.target && ((e.target as any)[\"nodeType\"]) === 1) {\r\n            const targetElement = e.target as Element;\r\n            if (!this.isDOMParent(targetElement, this.host)) {\r\n                if (this.isDOMParent(targetElement, this.target)) {\r\n                    if (this.props.onClickOutside) {\r\n                        this.props.onClickOutside(true);\r\n                    }\r\n                }\r\n                if (this.props.onClickOutside) {\r\n                    this.props.onClickOutside(false);\r\n                }\r\n                window.removeEventListener(\"mousedown\", this.closeOnClickHandler);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Gets the value indicating whether parent is direct or indirect parent node of the specified element.\r\n     */\r\n    private isDOMParent(element: Element | null, parent: Element | null): boolean {\r\n        if (!element || !parent) {\r\n            return false;\r\n        }\r\n\r\n        if (element === parent) {\r\n            return true;\r\n        }\r\n\r\n        if (!element.parentElement) {\r\n            return false;\r\n        }\r\n\r\n        return this.isDOMParent(element.parentElement, parent);\r\n    }\r\n\r\n    private renderPopup(): void {\r\n        const renderChildren = (left: number, top: number) => (this.props.children as any)(left, top);\r\n\r\n        if (this.props.visible !== false) {\r\n            if (!this.wrapper) {\r\n                this.wrapper = document.createElement(\"div\");\r\n                document.body.appendChild(this.wrapper);\r\n                window.addEventListener(\"resize\", this.resizeHandler);\r\n\r\n                if (this.props.onClickOutside) {\r\n                    window.addEventListener(\"mousedown\", this.closeOnClickHandler);\r\n                }\r\n            }\r\n\r\n            ReactDom.render(\r\n                renderChildren(this.state.left, this.state.top),\r\n                this.wrapper\r\n            );\r\n\r\n            this.host = this.wrapper.children[0] as HTMLElement;\r\n\r\n            // context.target is set by OverlayContainer\r\n            this.target = ReactDom.findDOMNode(this.context.target) as HTMLElement;\r\n\r\n            const {top, left} = alignContainer(this.host, this.target, this.props.alignment);\r\n\r\n            if (this.state.top !== top || this.state.left !== left) {\r\n                this.setState({ top, left });\r\n            }\r\n        } else if (this.props.visible === false && this.wrapper) {\r\n            this.removePopup();\r\n        }\r\n    }\r\n\r\n    private removePopup(): void {\r\n        window.removeEventListener(\"resize\", this.resizeHandler);\r\n        window.removeEventListener(\"mousedown\", this.closeOnClickHandler);\r\n\r\n        if (this.wrapper) {\r\n            document.body.removeChild(this.wrapper);\r\n            ReactDom.unmountComponentAtNode(this.wrapper);\r\n            this.wrapper = null;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/overlay.tsx","import { Alignment, Point, position, Rect, AlignType } from \"./positioning\";\r\n\r\nconst defaultAlignment: Alignment = {\r\n    target: {\r\n        horizontal: AlignType.Left,\r\n        vertical: AlignType.Bottom\r\n    },\r\n    overlay: {\r\n        horizontal: AlignType.Left,\r\n        vertical: AlignType.Top\r\n    }\r\n};\r\n\r\nexport function alignContainer(element: HTMLElement, target: HTMLElement, alignment: Alignment = defaultAlignment): {top: number, left: number} {\r\n    const elementRect = rectFromElement(element);\r\n    const targetRect = target ? rectFromElement(target) : rectFromWindow();\r\n\r\n    if (!elementRect || !targetRect) {\r\n        return {top: 0, left: 0};\r\n    }\r\n\r\n    const newElementRect = position(elementRect, targetRect, alignment);\r\n\r\n    const offsetLeft = element.offsetLeft + newElementRect.left - elementRect.left;\r\n    const offsetTop = element.offsetTop + newElementRect.top - elementRect.top;\r\n\r\n    return {top: offsetTop, left: offsetLeft};\r\n}\r\n\r\nfunction rectFromElement(element: HTMLElement): Rect {\r\n    if (!element) {\r\n        throw new Error(\"Element is undefined.\");\r\n    }\r\n\r\n    let position: Point = {\r\n        left: 0,\r\n        top: 0\r\n    };\r\n\r\n    let current = element;\r\n\r\n    do {\r\n        position.left += current.offsetLeft;\r\n        position.top += current.offsetTop;\r\n        current = <HTMLElement>current.offsetParent;\r\n    }\r\n    while (current);\r\n\r\n    return {\r\n        left: position.left,\r\n        top: position.top,\r\n        width: element.offsetWidth,\r\n        height: element.offsetHeight\r\n    };\r\n}\r\n\r\nfunction rectFromWindow(): Rect {\r\n    return {\r\n        left: window.scrollX,\r\n        top: window.scrollY,\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/elementPosition.ts","export const enum AlignType {\r\n    Left = 1,\r\n    Top = 1,\r\n    Center = 2,\r\n    Middle = 2,\r\n    Right = 3,\r\n    Bottom = 3\r\n}\r\n\r\n\r\nexport interface ElementAlign {\r\n    horizontal: AlignType;\r\n    vertical: AlignType;\r\n}\r\n\r\n\r\nexport interface Alignment {\r\n    overlay: ElementAlign;\r\n    target: ElementAlign;\r\n}\r\n\r\n\r\nexport interface Point {\r\n    top: number;\r\n    left: number;\r\n}\r\n\r\n\r\nexport interface Rect extends Point {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\n\r\nconst defaultAlign: Alignment = {\r\n    target: {\r\n        horizontal: AlignType.Left,\r\n        vertical: AlignType.Bottom\r\n    },\r\n    overlay: {\r\n        horizontal: AlignType.Left,\r\n        vertical: AlignType.Top\r\n    }\r\n};\r\n\r\n\r\nfunction segmentPositioningPoint(start: number, length: number, align: AlignType): number {\r\n    switch (align) {\r\n        case AlignType.Left:\r\n            return start;\r\n        case AlignType.Center:\r\n            return start + (length / 2);\r\n        case AlignType.Right:\r\n            return start + length;\r\n        default:\r\n            throw new Error(\"Unknown align option.\");\r\n    }\r\n}\r\n\r\n\r\nfunction elementPositioningPoint(element: Rect, align: ElementAlign): Point {\r\n    return {\r\n        left: segmentPositioningPoint(element.left, element.width, align.horizontal),\r\n        top: segmentPositioningPoint(element.top, element.height, align.vertical)\r\n    };\r\n}\r\n\r\n\r\n/** Align @{element} with specified @{target} by calculating new @{element} position rectangle. */\r\nfunction positionElement(element: Rect, target: Rect, alignment: Alignment): Rect {\r\n    const elementPoint = elementPositioningPoint(element, alignment.overlay);\r\n    const targetPoint = elementPositioningPoint(target, alignment.target);\r\n\r\n    const offset = {\r\n        left: targetPoint.left - elementPoint.left,\r\n        top: targetPoint.top - elementPoint.top\r\n    };\r\n    return {\r\n        left: element.left + offset.left,\r\n        top: element.top + offset.top,\r\n        width: element.width,\r\n        height: element.height\r\n    };\r\n}\r\n\r\n\r\nexport function position(element: Rect, target: Rect, ...positions: Alignment[]): Rect {\r\n    positions = positions || [defaultAlign];\r\n    return positionElement(element, target, positions[0]);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/positioning.ts"],"sourceRoot":""}